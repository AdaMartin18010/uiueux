# 1.3 桌面端

> 本文档归档所有桌面端UI/UE/UX架构、技术栈、设计模式、性能优化等相关内容，并提供与其他相关主题的链接。

## 目录

- [1.3 桌面端](#13-桌面端)
  - [目录](#目录)
    - [1.3.1 桌面端架构对比](#131-桌面端架构对比)
    - [1.3.2 主流技术栈与框架](#132-主流技术栈与框架)
    - [1.3.3 UI/UX 设计与适配](#133-uiux-设计与适配)
    - [1.3.4 性能优化与工程实践](#134-性能优化与工程实践)
    - [1.3.5 典型架构方案与案例](#135-典型架构方案与案例)

---

### 1.3.1 桌面端架构对比

桌面应用的架构选型需在性能、开发效率和跨平台能力之间取得平衡。

| 架构方案 | 核心技术 | 优点 | 缺点 | 典型应用案例 |
| :--- | :--- | :--- | :--- | :--- |
| **原生开发** | Windows: WinUI, WPF macOS: Cocoa, SwiftUI Linux: GTK+ | 性能最佳、系统深度集成、体验最一致 | 开发和维护成本高、无法跨平台 | Microsoft Office, Final Cut Pro |
| **Electron** | Node.js + Chromium + V8 (Web技术栈) | 跨平台、Web生态丰富、开发效率高 | 内存和磁盘占用大、性能瓶颈 | VS Code, Slack, Notion |
| **Tauri** | Rust 后端 + 系统 WebView 前端 | 轻量、安全、体积小、性能优于Electron | 依赖系统WebView、UI能力受限 | [详情参考](../2.技术栈与框架/2.3%20Rust前端全栈.md) Feishu-Downloader |
| **Flutter** | Dart 语言 + Skia 渲染引擎 | 跨平台UI高度一致、性能良好、一套代码多端运行 | 生态相对年轻、桌面端支持仍在完善 | [详情参考](../3.编程语言范式/3.5%20Dart-Flutter.md) |
| **Qt** | C++ | 性能高、真正的跨平台原生渲染、稳定成熟 | C++学习曲线陡峭、商业许可费用高 | Autodesk Maya, Adobe Photoshop Elements |

### 1.3.2 主流技术栈与框架

- **原生框架**:
  - **Windows**: `WinUI 3`, `WPF`
  - **macOS**: `SwiftUI`, `AppKit`
- **跨平台框架**:
  - **Web-based**: `Electron`, `Tauri`
  - **Native UI**: `Flutter`, `Qt`, `Avalonia` (C#)
- **Rust GUI 框架**:
  - `Tauri`, `egui`, `iced`, `Druid`
  - [相关主题：Rust前端全栈](../2.技术栈与框架/2.3%20Rust前端全栈.md)

### 1.3.3 UI/UX 设计与适配

- **窗口管理**: 窗口大小自适应、多窗口状态管理。
- **系统集成**: 菜单栏、通知、托盘图标。
- **输入方式**: 快捷键支持、鼠标/触控板手势。
- **设计规范**:
  - **Windows**: Fluent Design System
  - **macOS**: Human Interface Guidelines

### 1.3.4 性能优化与工程实践

- **启动性能**:
  - **代码拆分**: 按需加载模块。
  - **进程外渲染**: 避免UI线程阻塞。
- **资源占用**:
  - **内存优化**: 高效的数据结构，及时释放资源。
  - **二进制文件优化**: 减少最终打包体积。
- **工程实践**:
  - **自动更新**: 提供无缝的应用更新机制 (e.g., `electron-updater`)。
  - **CI/CD**: 自动化构建、测试和多平台打包。

### 1.3.5 典型架构方案与案例

- **Electron**: `Visual Studio Code`，通过Web技术实现了高度可扩展的插件系统和丰富的UI。
- **Tauri**: 轻量级的替代方案，通过将后端逻辑用Rust实现，前端利用系统WebView，显著降低了资源消耗。
- **Flutter**: 通过单一代码库构建在Windows, macOS, 和Linux上表现一致的应用，适合需要快速迭代和多平台发布的场景。
- **Qt**: `Autodesk Maya` 等工业级软件的选择，证明了其在高性能、复杂交互场景下的稳定性和强大能力。
