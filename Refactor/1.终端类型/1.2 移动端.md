# 1.2 移动端

> 本文档归档所有移动端UI/UE/UX架构、技术栈、设计模式、性能优化等相关内容，并提供与其他相关主题的链接。

## 目录

- [1.2 移动端](#12-移动端)
  - [目录](#目录)
    - [1.2.1 移动端架构对比：原生 vs. 跨平台](#121-移动端架构对比原生-vs-跨平台)
    - [1.2.2 主流技术栈与框架](#122-主流技术栈与框架)
    - [1.2.3 响应式与适配性设计](#123-响应式与适配性设计)
    - [1.2.4 性能优化与工程实践](#124-性能优化与工程实践)
    - [1.2.5 典型架构方案与案例](#125-典型架构方案与案例)

---

### 1.2.1 移动端架构对比：原生 vs. 跨平台

移动端架构的选择直接影响应用的性能、开发效率和维护成本。

| 架构方案 | 核心技术 | 优点 | 缺点 | 典型应用场景 |
| :--- | :--- | :--- | :--- | :--- |
| **原生开发** | Swift/Objective-C (iOS), Kotlin/Java (Android) | 性能极致、系统功能完整、用户体验最佳 | 开发成本高、双端代码无法复用、发布周期长 | 对性能和体验要求极高的应用，如大型游戏、系统工具 |
| **Flutter** | Dart 语言，Skia 渲染引擎 | 跨平台UI一致性高、性能接近原生、开发效率高 | App体积较大、部分原生功能需依赖插件 | [详情参考](../3.编程语言范式/3.5%20Dart-Flutter.md) Google Pay, 阿里巴巴闲鱼 |
| **React Native** | JavaScript/TypeScript, 原生桥接 | 代码热更新、生态庞大、Web开发者易上手 | 性能逊于原生、依赖桥接可能产生瓶颈 | Facebook, Instagram, 业务快速迭代的社交、电商应用 |
| **Rust + Tauri** | Rust 后端 + 系统 WebView 前端 | 轻量、安全、体积小、可与Wasm结合 | 依赖系统WebView、UI能力受限 | [详情参考](../2.技术栈与框架/2.3%20Rust前端全栈.md) 注重安全和轻量级的桌面/移动应用 |

### 1.2.2 主流技术栈与框架

移动端技术栈的选择需综合考虑开发语言、UI框架和生态系统。

- **原生开发**:
  - **iOS**: SwiftUI, UIKit (语言: [Swift](../3.编程语言范式/3.1%20Rust.md) - *此处应为Swift，但可关联到强类型语言范式*)
  - **Android**: Jetpack Compose, Android View (语言: Kotlin/Java)
- **跨平台框架**:
  - [Flutter](../3.编程语言范式/3.5%20Dart-Flutter.md)
  - React Native
  - [Tauri](../2.技术栈与框架/2.3%20Rust前端全栈.md)
  - Capacitor, Cordova (WebView-based)
- **UI 组件库**:
  - Material Design (Google)
  - Cupertino (Apple)
  - Ant Design Mobile

### 1.2.3 响应式与适配性设计

移动端设计必须适应多种屏幕尺寸、分辨率和设备形态。

- **核心布局技术**:
  - **iOS**: Auto Layout, Size Classes
  - **Android**: ConstraintLayout
  - **跨平台**: Flexbox, Grid
- **适配单位**:
  - `dp` / `sp` (Android)
  - `pt` (iOS)
- **关键实践**:
  - **安全区域 (Safe Area)**: 避开刘海、状态栏等。
  - **手势交互**: 提供直观的触摸反馈。
  - **暗黑模式 (Dark Mode)** 与主题切换。

### 1.2.4 性能优化与工程实践

- **启动性能**:
  - 优化启动流程 (Splash Screen)。
  - 懒加载非核心模块。
- **渲染性能**:
  - **GPU加速**: 尽可能利用硬件加速动画和视图渲染。
  - **帧率监控**: 保持UI流畅性（目标60fps/120fps）。
- **内存管理**:
  - **图片优化**: 使用合适的格式和分辨率，并进行缓存。
  - **内存泄漏检测**: 使用 `LeakCanary` (Android) 或 `Instruments` (iOS) 等工具。
- **包体积优化**:
  - **资源压缩**: 压缩图片、移除未使用代码 (Tree Shaking)。
  - **动态交付**: 使用 Android App Bundles 或 iOS On-Demand Resources。

### 1.2.5 典型架构方案与案例

- **Flutter 状态管理**: 使用 `Provider` 或 `BLoC` 模式管理 Widget 树的状态，实现清晰的数据流。
- **React Native 混合开发**: 结合原生模块与JavaScript模块，利用 `CodePush` 等服务实现应用的热更新。
- **Tauri + Rust 轻量应用**: 构建以安全和轻量为核心的跨平台应用，后端逻辑由 `Rust` 保证性能和内存安全。
- **小程序生态**: 微信、支付宝等平台提供了一套独立的开发范式，是国内移动端的重要组成部分。
